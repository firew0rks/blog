{% extends "base.html" %}
{% load static %}
{% load widget_tweaks %}

{% block header %}
    <link href="{% static 'wiki/css/help.css' %}" rel="stylesheet" type="text/css">
    <link href="{% static 'wiki/css/create.css' %}" rel="stylesheet" type="text/css">
{% endblock %}

{% block title %} Create Wiki Article {% endblock %}

{% block content %}
    <form class="form-horizontal" method="POST" action="" id="create-form"> {% csrf_token %}
        <div class="form-group {% if form.title.errors %}has-error{% endif %}">
            <label class="col-sm-1 control-label">{{ form.title.label }}:</label>
            <div class="col-sm-11">
                    {{ form.title|add_class:"form-control"|attr:"onchange:generateSlug();" }}
            </div>
        </div>

        <div class="form-group {% if form.slug.errors %}has-error{% endif %}">
            <label class="col-sm-1 control-label">{{ form.slug.label }}*:</label>
            <div class="col-sm-4">
                {{ form.slug|add_class:"form-control"}}
                <span id="helpBlock" class="help-block" style="font-size: 12px;">{{ form.slug.help_text }}</span>
            </div>
        </div>

        <div class="form-group {% if form.tags.errors %}has-error{% endif %}">
            <label class="col-sm-1 control-label">{{ form.tags.label }}:</label>
            <div class="col-sm-4">
                {{ form.tags|add_class:"form-control" }}
            </div>
            <div class="col-sm-6" id="tags">
                <span>php</span>
                <span>jquery</span>
            </div>
        </div>

        <p>{{ form.article }}</p>

        <div class="bottom">
            <input class="btn btn-primary" type="submit" value="Save" id="save-form"/>
            <button type="button" class="btn btn-primary">Save & Continue</button>
        </div>

    </form>

    {{ form.media }}
{% endblock %}

{% block scripts %}
    <script type="text/javascript" src="{% static "wiki/js/autofillSlug.js" %}"></script>
    <script type="text/javascript" src="{% static "wiki/js/tagBoxes.js" %}"></script>
{% endblock %}